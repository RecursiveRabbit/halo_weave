<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halo Weave</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <h1>Halo Weave</h1>
            <div id="status" class="status">Connecting...</div>
        </header>

        <!-- Main Layout -->
        <div class="main">
            <!-- Sidebar -->
            <aside class="sidebar">
                <section class="panel">
                    <h2>Identity</h2>
                    <label>
                        User Name
                        <input type="text" id="user-name" value="user" placeholder="user">
                    </label>
                    <label>
                        AI Name
                        <input type="text" id="ai-name" value="Qwen" placeholder="assistant">
                    </label>
                </section>

                <section class="panel">
                    <h2>System Prompt</h2>
                    <textarea id="system-prompt" rows="4">You are Qwen, an AI created by Alibaba.</textarea>
                </section>

                <section class="panel">
                    <h2>Generation</h2>
                    <label>
                        Max Tokens: <span id="max-tokens-val">50</span>
                        <input type="range" id="max-tokens" min="10" max="2048" value="50">
                    </label>
                    <label>
                        Temperature: <span id="temperature-val">0.7</span>
                        <input type="range" id="temperature" min="0.1" max="2.0" step="0.1" value="0.7">
                    </label>
                    <label>
                        Top-P: <span id="top-p-val">0.9</span>
                        <input type="range" id="top-p" min="0.0" max="1.0" step="0.05" value="0.9">
                    </label>
                </section>

                <section class="panel">
                    <h2>Context Budget</h2>
                    <label>
                        Max Context Tokens
                        <input type="number" id="max-context" min="0" max="10000" step="100" value="2000">
                    </label>
                    <p class="hint">0 = no pruning</p>
                </section>

                <section class="panel">
                    <h2>Data</h2>
                    <div class="button-row">
                        <button id="btn-start-capture" class="btn">üé¨ Start Capture</button>
                        <button id="btn-stop-capture" class="btn" disabled>‚èπÔ∏è Stop</button>
                    </div>
                    <div id="capture-status" class="hint"></div>
                    <div class="button-row">
                        <button id="btn-export" class="btn">üì§ Export</button>
                        <button id="btn-import" class="btn">üì• Import</button>
                    </div>
                    <input type="file" id="import-file" accept=".json" style="display: none;">
                    <div class="button-row">
                        <button id="btn-clear" class="btn btn-danger">üóëÔ∏è Clear</button>
                    </div>
                </section>
            </aside>

            <!-- Chat Area -->
            <main class="chat">
                <!-- Token Display -->
                <div id="tokens" class="tokens"></div>

                <!-- Stats Bar -->
                <div id="stats" class="stats">
                    <span>Tokens: <strong id="stat-tokens">0</strong></span>
                    <span>Brightness: <strong id="stat-brightness">-</strong></span>
                    <span>Pruned: <strong id="stat-pruned">0</strong></span>
                </div>

                <!-- Input -->
                <div class="input-area">
                    <textarea id="user-input" placeholder="Type a message..." rows="2"></textarea>
                    <button id="btn-send" class="btn btn-primary">Send</button>
                </div>
            </main>
        </div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>
</html>
